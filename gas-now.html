<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Jogo das Palavras</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #f4f4f4;
    }
    .letras, .opcoes, .resposta {
      margin: 20px;
    }
    .letras button, .opcoes button {
      margin: 5px;
      padding: 10px 15px;
      font-size: 18px;
    }
    .resposta {
      font-size: 24px;
      font-weight: bold;
      min-height: 30px;
    }
    .mensagem {
      font-size: 20px;
      color: green;
      margin: 20px;
    }
    .artigo {
      text-align: left;
      margin: 40px auto;
      max-width: 600px;
      background: #fff;
      padding: 20px;
      border-radius: 10px;
    }
    #botaoReiniciar {
      display: inline-block;
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 18px;
      background-color: #007bff;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    #botaoReiniciar:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>

  <h1>Monte a Palavra Correta</h1>
  <div class="letras"></div>
  <div class="resposta"></div>
  <div class="opcoes"></div>
  <div class="mensagem"></div>

  <script>
    const palavras = [
      { palavra: "casa", artigo: "A casa é o local onde moramos e vivemos com a nossa família." },
      { palavra: "bola", artigo: "A bola é um brinquedo muito comum usado em diversos esportes." },
      { palavra: "livro", artigo: "O livro é uma fonte de conhecimento e diversão." },
      { palavra: "flor", artigo: "A flor é uma das partes mais bonitas das plantas." },
    ];

    let palavraAtual = "";
    let respostaUsuario = "";

    function embaralhar(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function novaPalavra() {
      const indice = Math.floor(Math.random() * palavras.length);
      palavraAtual = palavras[indice].palavra;
      const artigo = palavras[indice].artigo;

      const letrasEmbaralhadas = embaralhar(palavraAtual.split(""));
      const letrasDiv = document.querySelector(".letras");
      const opcoesDiv = document.querySelector(".opcoes");
      const respostaDiv = document.querySelector(".resposta");
      const mensagemDiv = document.querySelector(".mensagem");

      letrasDiv.innerHTML = "";
      opcoesDiv.innerHTML = "";
      respostaDiv.textContent = "";
      mensagemDiv.textContent = "";
      respostaUsuario = "";

      letrasEmbaralhadas.forEach((letra, i) => {
        const btn = document.createElement("button");
        btn.textContent = letra;
        btn.dataset.index = i;
        letrasDiv.appendChild(btn);
      });

      // Armazenar o artigo na div de opções (oculto até acerto)
      opcoesDiv.dataset.artigo = artigo;
    }

    function verificarResposta() {
      if (respostaUsuario === palavraAtual) {
        const artigo = document.querySelector(".opcoes").dataset.artigo;
        document.querySelector(".mensagem").textContent = "Parabéns! Você acertou!";
        document.querySelector(".opcoes").innerHTML = `
          <div class="artigo">
            <p>${artigo}</p>
            <button id="botaoReiniciar">Tentar outra palavra</button>
          </div>
        `;
      }
    }

    // Delegação de eventos
    document.addEventListener("click", function(event) {
      const target = event.target;

      if (target.closest(".letras button")) {
        const letra = target.textContent;
        respostaUsuario += letra;
        document.querySelector(".resposta").textContent = respostaUsuario;
        target.disabled = true;
        verificarResposta();
      }

      if (target.id === "botaoReiniciar") {
        novaPalavra();
      }
    });

    // Iniciar o jogo
    document.addEventListener("DOMContentLoaded", novaPalavra);
  </script>

</body>
</html>
